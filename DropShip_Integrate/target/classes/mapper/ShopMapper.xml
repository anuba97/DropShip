<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.java.mapper.ShopMapper">

	<!--//////////////////       ↓  Work(작품) 관련 ↓         /////////////////////////  -->
	
	<!-- 작품 베스트 가져오기 -->
	<select id="selectWorkBest" resultType="com.java.vo.WorkVo">
		SELECT w.id AS id, w.work_name, w.work_img_url ,a.artist_korean_name AS artist_name, 
				w.work_price 
		FROM Work w
		JOIN Artist a ON w.artist_id = a.id
		WHERE work_isBest = 1
	</select>
	
	<!-- 작품(구매창) 1개 가져오기 -->
	<select id="selectWorkBuy" resultType="com.java.vo.WorkVo">
		SELECT * FROM (
	        SELECT w.id AS id, w.work_name, a.id AS artist_id, a.artist_korean_name AS artist_name,
			       w.work_genre, w.work_subject, w.work_img_url, w.work_content, w.work_sale, w.work_isBest,
			       w.work_reg_date, w.work_price
	        FROM Work w
	        JOIN Artist a ON w.artist_id = a.id
        ) 
   	    WHERE id = #{id}
	
	</select>
	
	
	<!-- 작품 1개 가져오기 (주문할때 사용)-->
	<select id="selectWorkOne" resultType="com.java.vo.WorkVo">
		SELECT w.id AS id, w.work_name, w.work_img_url ,a.artist_korean_name AS artist_name, 
				w.work_price 
		FROM Work w
		JOIN Artist a ON w.artist_id = a.id
		WHERE w.id = #{id}
	</select>
	
	
			 

</mapper>